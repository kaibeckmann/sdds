<project
    name = "linux_latency_echo"
    script = "sdds.gsl"
    endian = "little"
    os = "linux"
    iface = "{iface}"
    device = "{dev}"
    ip = "{ip}"
    port = "23234"
    protocol = "{prot}"
    >
    Latency test with echo server

    <define name = "FEATURE_SDDS_MULTICAST_ENABLED"/>
    <define name = "FEATURE_SDDS_BUILTIN_TOPICS_ENABLED"/>
    <define name = "FEATURE_SDDS_DISCOVERY_ENABLED"/>
    <define name = "DISCOVERY_UNICAST_SUBSCRIPTION"/>
    <define name = "SDDS_DISCOVERY_RECEIVE_TIMER" value = "1"/>
    <define name = "SDDS_DISCOVERY_PARTICIPANT_TIMER" value = "30"/>
    <define name = "SDDS_DISCOVERY_PUBLICATION_TIMER" value = "60"/>

    <define name = "SDDS_NET_MAX_BUF_SIZE" value = "128+{msg_size}"/>
    <define name = "SDDS_QOS_HISTORY_DEPTH" value = "5"/>
    <define name = "SDDS_NET_MAX_LOCATOR_COUNT" value = "10"/>

    <define name = "LATENCY_MSG_COUNT" value = "{msg_count}"/>
    <define name = "LATENCY_MSG_SIZE" value = "{msg_size}"/>
    <define name = "TEST_LATENCY"/>

    <topic name = "latency" domain = "1" id = "6">
	    Topic for measuring latency
        <attribute name = "time" type = "DDS_long_long">timestamp set by the application</attribute>
        <attribute name = "data" type = "DDS_string" size = "{msg_size}">playload in bytes</attribute>
<!--        <config type="qos_reliability" reliabilitySeqnrSize="basic" kind="reliable" confirmationtype="ack" max_blocking_time="150"/> -->
    </topic>
    <topic name = "latency_echo" domain = "1" id = "7">
	    Echo Topic for measuring latency
        <attribute name = "time" type = "DDS_long_long">timestamp set by the application</attribute>
        <attribute name = "data" type = "DDS_string" size = "{msg_size}">playload in bytes</attribute>
<!--        <config type="qos_reliability" reliabilitySeqnrSize="basic" kind="reliable" confirmationtype="ack" max_blocking_time="150"/> -->
    </topic>
<!--
    <define name = "SDDS_HAS_QOS_RELIABILITY" />
    <define name = "SDDS_QOS_RELIABILITY_MAX_TOPIC_PARTICIPANTS" value = "1"/>
    <define name = "SDDS_QOS_RELIABILITY_RELIABLE_SAMPLES_SIZE" value = "1"/>
    <define name = "SDDS_QOS_RELIABILITY_RELIABLE_SUBS_WITHOUT_PUBS" value = "1"/>
-->
    <role topic = "latency_echo" type = "publisher"/>
    <role topic = "latency" type = "subscriber" />
</project>
